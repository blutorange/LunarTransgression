<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	<ui:composition template="/WEB-INF/template/common.xhtml">
		<ui:define name="header">
			<h:outputScript library="translune" name="game.js"></h:outputScript>
		</ui:define>
		<ui:define name="pageTitle">Login</ui:define>
		<ui:define name="mainContent">
			<p:layout fullPage="true">
				<p:layoutUnit position="center">
					<h:form id="play_form">
						<p:messages id="messages" autoUpdate="true" />					
						<o:importConstants type="com.github.blutorange.translune.gui.EUserType" />
						<c:choose>		
							<c:when test="#{sessionBean.userType == EUserType.PLAYER}">
							<p:commandLink value="Start game" actionListener="#{playerBean.startGame()}" partialSubmit="true" update="messages"></p:commandLink>
							</c:when>
							<c:otherwise>
								<p>ACCESS_DENIED</p>
								<p:link value="back to home" outcome="/public/index.xhtml"></p:link>
							</c:otherwise>
						</c:choose>
					</h:form>
				</p:layoutUnit>
			</p:layout>
		</ui:define>
	</ui:composition>
</html>